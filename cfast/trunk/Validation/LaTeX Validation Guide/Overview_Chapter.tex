
\chapter{Overview}

CFAST is a fire model capable of predicting the fire-induced environmental conditions as a function of time for single- or multi-compartment scenarios.  Toward that end, the CFAST software calculates the evolution of temperature, smoke, and fire gases throughout a building during a user-prescribed fire.  The model was developed, and is maintained, by the Fire Research Division of the National Institute of Standards and Technology (NIST).

CFAST is a two-zone model, in that it subdivides each compartment into two zones, or control volumes and the two volumes are assumed to be homogeneous within each zone.  This two-zone approach has evolved from observations of layering in actual fires and real-scale fire experiments.  Differential equations that approximate solution of the mass and energy balances of each zone, equations for heat conduction into the walls, and the ideal gas law simulate the environmental conditions generated by a fire.

This document describes the underlying structure of the CFAST model and the processes used during the development and deployment of the model. It is intended to provide guidelines for

\begin{itemize}
\item the planning for modifications to the model,
\item any required reviews for both software and associated documentation of the model,
\item testing to be conducted prior to the release of an updated model,
\item problem reporting and resolution,
\item retention of records, source code, and released software over the life of the code.
\end{itemize}

Key to ensuring the quality of the software are ongoing validation testing of the model. To this end, a compilation of past and present validation exercises for the CFAST model are presented. 

Validation typically involves comparing model simulations with experimental measurements. To say that CFAST is ``validated'' means that the model has been shown to be of a given level of accuracy for a given range of parameters for a given type of fire scenario. Although the CFAST developers periodically perform validation studies, it is ultimately the end user of the model who decides if the model is adequate for the job at hand. Thus, this Guide does not and cannot be considered comprehensive for every possible modeling scenario.

\section{Software Development and Quality Assurance}

The development and maintenance of CFAST is guided by software quality assurance measures for the planning of modifications to the model that provide required reviews for both software and associated documentation of the model, define testing to be conducted prior to the release of an updated model, describe problem reporting and resolution procedures, and ensure all records, source code, and released software is kept available for the life of the code.  

The internal structure of the model also has an impact on the ease of modification and correctness of the model.  The method for incorporating new phenomena and ensuring the correctness of the code was adopted as part of the consolidation of CCFM and FAST in and has resulted in a more transparent, transportable and verifiable numerical model. This transparency is crucial to a verifiable and robust numerical implementation of the predictive model as discussed in the sections on code checking and numerical analysis.  More recently, all of the software development and software tracking has been made available on the web to further enhance the software development process.

\section{Model Validation Scenarios}

Key to ensuring the correctness and accuracy of the model are comparisons of the model with both earlier versions of the model and with documented experimental data applicable to the intended range of application of the model. When doing a validation study, the first question to ask is, ``What is the application?'' There are countless fire scenarios to consider, but from the point of view of validation, it is useful to divide them into two classes -- those for which the fire is {\em specified} as an input to the model and those for which the fire must be estimated by use of the model. The former is often the case for a design application, the latter for a forensic reconstruction. Consider each in turn.

Design  applications  typically  involve  an existing  building  or  a building  under  design. A  so-called  ``design  fire'' is  prescribed either by  a regulatory authority  or by the engineers  performing the analysis. Because the  fire's heat release rate is  specified, the role of the model is to predict  the transport of heat and combustion products throughout  the room or  rooms of  interest. Ventilation  equipment is often included  in the simulation, like fans,  blowers, exhaust hoods, HVAC ducts,  smoke management systems,  {\em etc.} Sprinkler  and heat and smoke detector activation are also of interest.  The effect of the sprinkler spray on the fire is usually less of interest since the fire is  prescribed rather  than  predicted. Detailed  descriptions of  the contents of the building are usually not necessary because these items are not assumed to be burning,  and even if they are, the burning rate will be  fixed, not predicted.  Sometimes, it is necessary  to predict the heat  flux from the fire  to a nearby ``target,''  and even though the target  may heat up  to some prescribed ignition  temperature, the subsequent spread  of the  fire usually goes  beyond the scope  of the analysis because of the uncertainty  inherent in object to object fire spread.

Forensic reconstructions require the  model to simulate an actual fire based on  information that is collected  after the event,  such as eye witness accounts, unburned materials,  burn signatures, {\em etc.} The purpose  of  the simulation  is  to  connect  a sequence  of  discrete observations  with  a continuous  description  of  the fire  dynamics. Usually,  reconstructions  involve  more gas/solid  phase  interaction because  virtually  all  objects  in  a  given  room  are  potentially ignitable, especially when flashover  occurs. Thus, there is much more emphasis on  such phenomena as  heat transfer to  surfaces, pyrolysis, flame  spread, and suppression.  In general,  forensic reconstructions are more challenging simulations  to perform because they require more detailed  information  about the  room  geometry and contents,  and  there is  much greater uncertainty in the total heat release rate as the fire spreads from object to object.

CFAST has been applied for both design and reconstruction scenarios. For the former, specified design fires are typically used (e.g., reference \cite{NRCNUREG6850}).  For the latter, iterative simulation with multiple model runs allow the user to develop fire growth inputs consistent with observed post fire conditions.

\section{Input Data Required to Run the Model}

All of the data required to run the CFAST model reside in a primary data file, which the user creates.  Some instances may require databases of information on objects, thermophysical properties of boundaries, and sample prescribed fire descriptions.  In general, the data files contain the following information:

\begin{itemize}
\item compartment dimensions (height, width, length)
\item construction materials of the compartment (e.g., concrete, gypsum)
\item material properties (e.g., thermal conductivity, specific heat, density, thickness, heat of combustion)
\item dimensions and positions of horizontal and vertical flow openings such as doors, windows, and vents
\item mechanical ventilation specifications 
\item fire properties (e.g., heat release rate, lower oxygen limit, and species production rates as a function of time) 
\item sprinkler and detector specifications 
\item positions, sizes, and characteristics of targets
\end{itemize}

The CFAST User’s Guide \cite{CFAST_Users_Guide_6} provides a complete description of the required input parameters.  Some of these parameters have default values included in the model, which are intended to be representative for a range of fire scenarios.  Unless explicitly noted, default values were used for parameters not specifically included in this validation study.

\section{Property Data}

Required inputs for CFAST also include a number of material properties related to compartment bounding surfaces, objects (called targets) placed in compartments for calculation of object surface temperature and heat flux to the objects, or fire sources.  For compartment surfaces and targets, CFAST needs the density, thermal conductivity, specific heat, and emissivity.

For fire sources, CFAST needs to know the pyrolysis rate of fuel, the heat of combustion, stochiometric fuel-oxygen ratio, yields of important combustion products in a simplified combustion reaction (carbon monoxide, carbon dioxide, soot, and others), and the fraction of energy released in the form of thermal radiation.

These properties are commonly available in fire protection engineering and materials handbooks. Experimentally determined property data may also be available for certain scenarios.  However, depending on the application, properties for specific materials may not be readily available.  A small file distributed with the CFAST software contains a database with thermal properties of common materials.  These data are given as examples, and users should verify the accuracy and appropriateness of the data.

\section{Model Outputs}

Once the simulation is complete, CFAST produces an output file containing all of the solution variables.  Typical outputs include (but are not limited to) the following:

\begin{itemize}
\item environmental conditions in the room (such as hot gas layer temperature; oxygen and smoke concentration; and ceiling, wall, and floor temperatures)
\item heat transfer-related outputs to walls and targets (such as incident convective, radiated, and total heat fluxes)
\item fire intensity and flame height
\item flow velocities through vents and openings
\item detector and sprinkler activation times
\end{itemize}


Thus, for a given fire scenario, there are a number of different quantities that the model predicts A typical
fire experiment can produce hundreds of time histories of point measurements, each of which can be reproduced by the model to some level of accuracy. It is a challenge to sort out all the plots and graphs of all the different quantities and come to some general conclusion. For this reason, this Guide
is organized by output quantity, not by individual experiment or fire scenario. In this way, it is possible to assess, over a range of different experiments and scenarios, the performance of the model in predicting a given quantity. Overall trends and biases become much more clear when the data is organized this way.


\section{Model Accuracy}

The degree of  accuracy for each output variable  required by the user is  highly  dependent on  the  technical  issues  associated with  the analysis.  The user  must ask: How accurate does  the analysis have to be  to  answer  the  technical  question posed?  Thus,  a  generalized definition of the  accuracy required for each quantity  with no regard as  to the specifics  of a  particular analysis  is not  practical and would be limited in its usefulness.

Returning   to    the   earlier   definitions    of   ``design''   and ``reconstruction,'' fire scenarios, design applications  typically are  more accurate because the heat release rate is prescribed rather than predicted, and the    initial    and    boundary    conditions   are    far    better characterized. Mathematically, a design calculation is an example of a ``well-posed''  problem  in  which   the  solution  of  the  governing equations is  advanced in  time starting from  a known set  of initial conditions and constrained by a known set of boundary conditions.  The accuracy of the results is a function of the fidelity of the numerical solution, which is  largely dependent on the quality of the model inputs. This CFAST validation guide includes efforts to date involving well-characterized geometries and prescribed fires. These studies show that  CFAST predictions vary from being within experimental   uncertainty  to  being   about  30~\%   different  than measurements of temperature, heat flux, gas concentration, {\em etc} (see, for example, reference \cite{NRCNUREG1824_CFAST}).

A reconstruction is an example of an ``ill-posed'' problem because the outcome  is known  whereas  the initial  and  boundary conditions  are not. There is  no single, unique solution to the  problem. Rather, it is possible to simulate numerous fires that produce the given outcome. There is no right or wrong answer, but rather a small set of plausible fire scenarios that are  consistent with the collected evidence and physical laws incorporated into the model. These simulations are then used to demonstrate why the fire behaved as it did  based on the current understanding of fire physics  incorporated in  the model.  Most  often, the  result of  the
analysis is only  qualitative. If there is any  quantification at all, it could be in the time to reach critical events, like a roof collapse or room flashover.

\section{Uses and Limitations of the Model}
CFAST has been developed for use in solving practical fire problems in fire protection engineering.  It is intended for use in system modeling of building and building components.  A priori prediction of flame spread or fire growth on objects is not modeled. Rather, the consequences of a specified fire is estimated. It is not intended for detailed study of flow within a compartment, such as is needed for smoke detector siting.  It includes the activation of sprinklers and fire suppression by water droplets.

The most extensive use of the model is in fire and smoke spread in complex buildings.  The efficiency and computational speed are inherent in the few computation cells needed for a zone model implementation.  The use is for design and reconstruction of time-lines for fire and smoke spread in residential, commercial, and industrial fire applications.  Some applications of the model have been for design of smoke control systems.

\begin{itemize}
\item Compartments:  CFAST is generally limited to situations where the compartment volumes are strongly stratified.  However, in order to facilitate the use of the model for preliminary estimates when a more sophisticated calculation is ultimately needed, there are algorithms for corridor flow, smoke detector activation, and detailed heat conduction through solid boundaries.  This model does provide for non-rectangular compartments, although the application is intended to be limited to relatively simple spaces.  There is no intent to include complex geometries where a complex flow field is a driving force.  For these applications, computational fluid dynamics (CFD) models are appropriate.

\item Gas Layers:  There are also limitations inherent in the assumption of stratification of the gas layers.  The zone model concept, by definition, implies a sharp boundary between the upper and lower layers, whereas in reality, the transition is typically over about 10~\% of the height of the compartment and can be larger in weakly stratified flow.  For example, a burning cigarette in a normal room is not within the purview of a zone model.  While it is possible to make predictions within 5~\% of the actual temperatures of the gas layers, this is not the optimum use of the model.  It is more properly used to make estimates of fire spread (not flame spread), smoke detection and contamination, and life safety calculations.

\item Heat Release Rate:  CFAST does not predict fire growth on burning objects. Heat release rate is specified by the user for one or more fire objects. The model does include the ability to limit the specified burning based on available oxygen. There are also limitations inherent in the assumptions used in application of the empirical models.  As a general guideline, the heat release should not exceed about 1 MW/m$^3$.  This is a limitation on the numerical routines attributable to the coupling between gas flow and heat transfer through boundaries (conduction, convection, and radiation).  The inherent two-layer assumption is likely to break down well before this limit is reached.

\item Radiation:  Because the model includes a sophisticated radiation model and ventilation algorithms, it has further use for studying building contamination through the ventilation system, as well as the stack effect and the effect of wind on air circulation in buildings.  Radiation from fires is modeled with a simple point source approximation.  This limits the accuracy of the model near fire sources. Calculation of radiative exchange between compartments is not modeled.

\item Ventilation and Leakage:  In a single compartment, the ratio of the area of vents connecting one compartment to another to the volume of the compartment should not exceed roughly 1/2 m.  This is a limitation on the plug flow assumption for vents.  An important limitation arises from the uncertainty in the scenario specification.  For example, leakage in buildings is significant, and this affects flow calculations especially when wind is present and for tall buildings.  These effects can overwhelm limitations on accuracy of the implementation of the model.  The overall accuracy of the model is closely tied to the specificity, care, and completeness with which the data are provided.

\item Thermal Properties:  The accuracy of the model predictions is limited by how well the user can specify the thermophysical properties.  For example, the fraction of fuel which ends up as soot has an important effect on the radiation absorption of the gas layer and, therefore, the relative convective versus radiative heating of the layers and walls, which in turn affects the buoyancy and flow.  There is a higher level of uncertainty of the predictions if the properties of real materials and real fuels are unknown or difficult to obtain, or the physical processes of combustion, radiation, and heat transfer are more complicated than their mathematical representations in CFAST.
\end{itemize}

In addition, there are specific limitations and assumptions made in the development of the algorithms.  These are detailed in the discussion of each of these sub-models in the NIST Technical Reference Guide \cite{CFAST_Tech_Guide_6}.